# 🧩 Plugins · 插件功能总览与用法

> 本页覆盖项目中常见/默认的插件能力。不同部署启用情况可能不同，以你的配置为准。所有依赖与优化点均已在对应段落穿插说明。

---

## 目录（快速跳转）
- [1) auroraai · AI 对话核心](#1-auroraai--ai-对话核心)
- [2) auroradb / auroradb2 · 数据库](#2-auroradb--auroradb2--数据库)
- [3) aurorabili · Bilibili](#3-aurorabili--bilibili)
- [4) aurorabk · 百科（MCMod / Minecraft）](#4-aurorabk--百科mcmod--minecraft)
- [5) auroragm · 菜单图卡](#5-auroragm--菜单图卡)
- [6) aurorahttp · HTTP 扩展](#6-aurorahttp--http-扩展)
- [7) 调度 · 定时播报（如已启用）](#7-调度--定时播报如已启用)
- [插件协同与案例](#插件协同与案例)

---

## 1) auroraai · AI 对话核心
**作用**：自然对话、总结、润色、建议；融合 RAG 检索、Persona 与长期记忆。  
**触发**：在群内 **@ 机器人** 直接说话即可；可用 `/summary`、“请附引用片段”等提示。  

**特点**：
- 多轮上下文 + 话题总结；
- 人格设定（输出结构/语气/身份）；
- 表达多样化与复读抑制；
- 结合 RAG 的“答案 + 引用片段”。

**示例**：
```
@机器人 请用“提纲→要点→行动项”的结构，总结我们刚才的讨论。
@机器人 把这段话改成更礼貌但简洁的版本：……
@机器人 结合资料回答：我们社团报销规则中的“上限”和“审批流程”是什么？附引用。
```

---

## 2) auroradb / auroradb2 · 数据库
**作用**：提供 MySQL（或可扩展 SQLite）的连接与访问层，统一管理**用户画像、对话记录、配置**等。  
**优化建议**：
- 连接池最小/最大连接数按群规模配置（如 `1~5` 起步）；
- 对“画像/会话/任务”等高频表建立索引；
- 异常降级：DB 不可用时，非关键功能可在内存短存。

**常见用途**：
- 画像持久化、定时任务配置、外部 API 缓存、审计（合规）。

---

## 3) aurorabili · Bilibili
**作用**：查询 B 站视频/番剧/动态；如启用调度，可做**定时播报**。  
**玩法**：
```
@机器人 查一下“孤独摇滚”的番剧信息
@机器人 找这个 UP 的最近热门视频
@机器人 对比两个视频的亮点与适合受众，给要点清单
```
**输出**：标题、UP 主、热度、摘要、链接（可卡片化）。  
**提示**：可与 AI 核心结合做“对比/总结/推荐理由”。

---

## 4) aurorabk · 百科（MCMod / Minecraft）
**作用**：查询 MC 相关百科，输出条目摘要/关键参数。  
**渲染**：如安装 `imgkit + wkhtmltoimage` 可把网页片段渲染为**图片卡片**。  
**示例**：
```
@机器人 mc 红石比较器
@机器人 mc 信标范围
```
**降级**：若未安装渲染依赖，自动回退为**文本摘要 + 链接**。

---

## 5) auroragm · 菜单图卡
**作用**：将 Markdown 风格内容渲染为**图片菜单**，便于群新成员快速上手。  
**依赖**：`pillowmd`。  
**示例**：
```
@机器人 菜单
@机器人 打开功能面板
```
**建议**：在大版本更新时推送菜单卡片，降低学习成本。

---

## 6) aurorahttp · HTTP 扩展
**作用**：统一的外部 API 适配层，用于对接天气/翻译/新闻/自定义接口。  
**范式**：HTTP 拉取 → 结构化解析 → 卡片输出 → （可选）DB 缓存与埋点。  
**示例**：
```
@机器人 天气 上海
@机器人 翻译 生命不息
@机器人 新闻 AIGC
```

---

## 7) 调度 · 定时播报（如已启用）
**用途**：每日早报、DDL 提醒、公告更新。  
**建议**：信息控制在 3~5 条、固定时段、避免打扰；播报末尾附“下一步”选项（如“需要详情请回复 1”）。

---

## 插件协同与案例
- **AI + RAG + 百科**：问术语/用法时，AI 给“答案 + 百科引用”与**可点击链接**；
- **AI + Bili**：当用户给出多个视频链接，AI 做“**对比** + **推荐理由**”；
- **AI + 菜单**：首次使用/功能升级时，自动推送“**菜单图卡**”；
- **HTTP + DB**：为外部接口做**缓存**与**熔断**，减少失败率与延迟。
