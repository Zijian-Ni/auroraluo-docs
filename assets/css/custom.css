/* ===============================================
   Aurora Luo Docsify Â· æ— é¡¶éƒ¨å¯¼èˆª + å¯æŠ˜å å·¦ä¾§ä¾§æ ï¼ˆæœ€ç»ˆç‰ˆï¼‰
   - é¡¶éƒ¨å¯¼èˆªéšè—
   - æ¡Œé¢å›ºå®šä¾§æ  + æ­£æ–‡ margin-left
   - å°å±æŠ½å±‰å¼ä¾§æ  + æ­£æ–‡å…¨å®½
   - ä¿ç•™åŸæœ‰ç¾åŒ–ä¸ç»†èŠ‚
   =============================================== */

/* â€”â€” å®‰å…¨åŒºä¸åŸºç¡€å˜é‡ â€”â€” */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);

  --theme-color: #7c4dff;
  --sidebar-width: 280px;      /* å·¦ä¾§æ å›ºå®šå®½åº¦ï¼ˆå¯æ”¹ 260/300ï¼‰ */
  --content-max: 980px;        /* æ­£æ–‡æœ€å¤§å®½åº¦ */
  --anchor-offset: 18px;       /* é”šç‚¹åç§»ï¼ˆæ— é¡¶æ ï¼‰ */

  /* äº®è‰²ä¸»é¢˜ */
  --bg: #f5f7fb;
  --text: #1b2430;
  --muted: #6c7a89;
  --card: rgba(255,255,255,0.75);
  --border: rgba(124,77,255,0.18);
  --quote-bg: rgba(124,77,255,0.08);
  --code-bg: rgba(16,22,30,0.04);
  --link: #5b6cff;
  --link-hover: #3742fa;
}

/* æš—è‰²ä¸»é¢˜è¦†ç›– */
:root[data-theme="dark"] {
  --bg: #0b0e12;
  --text: #e6edf3;
  --muted: #9aa7b2;
  --card: rgba(13,17,23,0.55);
  --border: rgba(94,104,121,0.25);
  --quote-bg: rgba(124,77,255,0.12);
  --code-bg: rgba(255,255,255,0.03);
  --link: #8ea0ff;
  --link-hover: #b9c4ff;
}

/* â€”â€” å…¨å±€èƒŒæ™¯ä¸æ’ç‰ˆ â€”â€” */
html, body {
  background:
    radial-gradient(650px 400px at 15% -10%, rgba(124,77,255,.10), transparent 60%),
    radial-gradient(650px 400px at 110% -10%, rgba(0,212,255,.10), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg));
  color: var(--text);
  font-size: clamp(15px, 0.95vw + 10px, 18px);
  -webkit-tap-highlight-color: transparent;
  overflow-x: hidden;
}

/* â€”â€” é¡¶éƒ¨å¯¼èˆªéšè— â€”â€” */
.app-nav,
.app-nav.no-badge {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* â€”â€” ä¾§æ ï¼ˆå›ºå®š + ç»ç’ƒæ€ï¼‰ â€”â€” */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-width) !important; /* å¼ºåˆ¶ç¡®ä¿å®½åº¦ä¸è¢«ä¸»é¢˜æ”¹å° */
  height: 100vh;
  background: var(--card);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-right: 1px solid var(--border);
  z-index: 1000;
  transition: transform .25s ease;
  overflow-y: auto;
}
.sidebar a {
  color: var(--text) !important;
  border-radius: 8px;
}
.sidebar li > a:hover {
  background: rgba(124,77,255,0.1) !important;
}
.sidebar .search .input-wrap input {
  background: var(--card) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 10px;
}

/* â€”â€” æ­£æ–‡åŒºåŸŸ â€”â€” */
.content {
  margin-left: var(--sidebar-width) !important; /* âœ… åªç”¨ margin-leftï¼Œä¸ç”¨ left/transform */
  padding: 2rem 2rem 4rem;
  position: relative;
}
.markdown-section {
  max-width: min(100%, var(--content-max));
  margin: 0 auto;
  line-height: 1.85;
}
.markdown-section h1,
.markdown-section h2,
.markdown-section h3 {
  margin-top: 2rem;
}
.markdown-section blockquote {
  border-left: 4px solid var(--theme-color);
  background: var(--quote-bg);
  padding: .6rem 1rem;
  border-radius: 10px;
}
.markdown-section pre {
  background: var(--code-bg) !important;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 12px;
}
.markdown-section code:not(pre code) {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 0 6px;
}
.markdown-section a {
  color: var(--link);
  border-bottom: 1px dashed transparent;
}
.markdown-section a:hover {
  color: var(--link-hover);
  border-bottom-color: var(--link-hover);
}

/* â€”â€” é”šç‚¹æ»šåŠ¨åç§»ï¼ˆé˜²æ ‡é¢˜è¢«é¡¶ï¼‰ â€”â€” */
.markdown-section h1[id],
.markdown-section h2[id],
.markdown-section h3[id],
.markdown-section h4[id],
.markdown-section h5[id],
.markdown-section h6[id] {
  scroll-margin-top: var(--anchor-offset);
}

/* â€”â€” å°å±ï¼šæŠ½å±‰å¼ä¾§æ  + æ­£æ–‡å…¨å®½ â€”â€” */
@media (max-width: 991.98px) {
  .content {
    margin-left: 0 !important;    /* âœ… ä¸ç•™ç™½ï¼Œä¸é®æŒ¡æ­£æ–‡ */
  }

  .sidebar {
    transform: translateX(-100%); /* é»˜è®¤æ”¶èµ·ï¼ˆç§»å‡ºå±å¹•ï¼‰ */
    will-change: transform;
  }
  body:not(.close) .sidebar {
    transform: translateX(0);     /* å±•å¼€æŠ½å±‰ */
  }

  /* å·¦ä¸Šè§’ â˜° æŒ‰é’®ï¼ˆç”± JS æ³¨å…¥ #menu-toggle å…ƒç´ ï¼‰ */
  #menu-toggle {
    position: fixed;
    top: calc(12px + var(--safe-top));
    left: calc(14px + var(--safe-left));
    width: 42px;
    height: 42px;
    z-index: 1100;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: var(--card);
    display: grid;
    place-items: center;
    font-size: 22px;
    line-height: 1;
    cursor: pointer;
    box-shadow: 0 8px 26px rgba(0,0,0,.12);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

/* â€”â€” ä¾§æ å±•å¼€æ—¶ç¦ç”¨æ¨ªå‘æ»šåŠ¨ï¼ˆä½“éªŒæ›´ç¨³ï¼‰ â€”â€” */
body:not(.close) { overflow-x: hidden; }

/* â€”â€” å³ä¸Šè§’ä¸»é¢˜æŒ‰é’®ï¼ˆå¦‚éœ€ï¼‰ â€”â€” */
#aurora-theme-toggle {
  position: fixed;
  top: calc(12px + var(--safe-top));
  right: calc(18px + var(--safe-right));
  z-index: 10010;
}
#theme-switch-btn {
  width: 42px; height: 42px; border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--card); color: var(--text);
  display: grid; place-items: center;
  box-shadow: 0 8px 26px rgba(0,0,0,.12);
  cursor: pointer; transition: all .2s ease;
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  font-size: 18px; line-height: 1;
}
#theme-switch-btn:hover { border-color: var(--theme-color); transform: translateY(-1px); }

/* â€”â€” é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡ â€”â€” */
#reading-progress {
  position: fixed;
  top: 0; left: 0;
  height: 3px; width: 0%;
  z-index: 10010;
  background: linear-gradient(90deg, var(--theme-color), #00d4ff);
  box-shadow: 0 0 6px rgba(124,77,255,.5);
}

/* â€”â€” å›åˆ°é¡¶éƒ¨æŒ‰é’® â€”â€” */
#back-to-top {
  position: fixed;
  right: calc(18px + var(--safe-right));
  bottom: calc(20px + var(--safe-bottom));
  width: 42px; height: 42px; border-radius: 10px;
  background: var(--card); color: var(--text);
  border: 1px solid var(--border);
  box-shadow: 0 8px 26px rgba(0,0,0,.12);
  display: grid; place-items: center;
  font-size: 18px; line-height: 1;
  cursor: pointer;
  opacity: 0; visibility: hidden; transform: translateY(8px);
  transition: all .22s ease;
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  z-index: 10010;
}
#back-to-top.show { opacity: 1; visibility: visible; transform: translateY(0); }
#back-to-top:hover { border-color: var(--theme-color); }

/* â€”â€” æ»šåŠ¨æ¡ â€”â€” */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,.15); border-radius: 8px; }
:root[data-theme="dark"] ::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); }

/* ===== å…œåº•é˜²å¾¡ï¼šåˆ«è®©å…¶ä»–ä¸»é¢˜æŠŠå†…å®¹æŒ¤å‡ºâ€œç™½æ¡†â€ ===== */
.content { left: 0 !important; transform: none !important; }



/* ====== å›ºå®šï¼šæ­£æ–‡ä¸å†è·Ÿéšç§»åŠ¨ï¼ˆç¦ç”¨ left/transform ä½ç§»ï¼‰ ====== */
.content {
  margin-left: var(--sidebar-width) !important; /* æ¡Œé¢ç»™ä¾§æ è®©ä½ */
  left: 0 !important;
  transform: none !important;
  transition: none !important; /* é˜²æ­¢è¢«è„šæœ¬åŠ¨æ€è®¾ç½® left/transform åäº§ç”ŸåŠ¨ç”» */
  position: relative !important;
}

/* å…œåº•ï¼šæœ‰ä¸»é¢˜/è„šæœ¬ä¼šæ”¹ content çš„åç§»ï¼Œå…¨éƒ¨æ¸…æ‰ */
@media (min-width: 992px) {
  .content { margin-left: var(--sidebar-width) !important; }
}

/* ====== ä¾§æ æ°¸è¿œå›ºå®šåœ¨å·¦ä¾§ï¼Œç”¨ transform æ§åˆ¶æ˜¾éš ====== */
.sidebar {
  position: fixed !important;
  top: 0; left: 0;
  width: var(--sidebar-width) !important;
  height: 100vh !important;
  z-index: 1000;
  transition: transform .28s ease !important;
  will-change: transform;
  /* æ¡Œé¢é»˜è®¤å±•å¼€ */
  transform: translateX(0) !important;
}

/* ====== å°å±ï¼šæ­£æ–‡å æ»¡å®½åº¦ï¼Œä¾§æ æŠ½å±‰å¼éšè—/æ˜¾ç¤º ====== */
@media (max-width: 991.98px) {
  .content {
    margin-left: 0 !important;   /* æ­£æ–‡ä¸è®©ä½ï¼Œé¿å…è¢«é®æŒ¡/ç•™ç™½æ¡† */
  }
  /* é»˜è®¤éšè—åˆ°å±å¹•å¤–ï¼›æ‰“å¼€ class æ—¶æ»‘å…¥ */
  .sidebar {
    transform: translateX(-100%) !important;  /* é»˜è®¤éšè— */
  }
  body.sidebar-open .sidebar {
    transform: translateX(0) !important;      /* å±•å¼€ */
  }

  /* å·¦ä¸Šè§’ â˜° æŒ‰é’®ï¼ˆJS æ³¨å…¥ #menu-toggleï¼‰ */
  #menu-toggle {
    position: fixed;
    top: calc(12px + var(--safe-top));
    left: calc(14px + var(--safe-left));
    width: 42px; height: 42px;
    z-index: 1101;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: var(--card);
    display: grid; place-items: center;
    font-size: 22px; line-height: 1;
    cursor: pointer;
    box-shadow: 0 8px 26px rgba(0,0,0,.12);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* å±•å¼€æ—¶çš„é®ç½©ï¼ˆç‚¹å‡»é®ç½©å¯æ”¶èµ·ï¼‰ */
  #sidebar-mask {
    position: fixed; inset: 0; z-index: 1100;
    background: rgba(0,0,0,.35);
    display: none;
  }
  body.sidebar-open #sidebar-mask { display: block; }
}

/* ====== é¡¶éƒ¨å¯¼èˆªæ°¸è¿œéšè—ï¼ˆä¿è¯ä½ æƒ³è¦çš„â€œæ— é¡¶æ â€ï¼‰ ====== */
.app-nav, .app-nav.no-badge {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important; margin: 0 !important; padding: 0 !important;
}

/* ====== é”šç‚¹åç§»ï¼ˆæ— é¡¶æ ï¼‰ ====== */
:root { --anchor-offset: 18px; }
.markdown-section h1[id],
.markdown-section h2[id],
.markdown-section h3[id],
.markdown-section h4[id],
.markdown-section h5[id],
.markdown-section h6[id] { scroll-margin-top: var(--anchor-offset); }

/* âœ… åŠé€æ˜é®ç½©ï¼šä»…åšæš—åŒ–è§†è§‰ï¼Œä¸é˜»æ­¢æ»šåŠ¨ã€ä¸é®æŒ¡ç‚¹å‡» */
#sidebar-mask {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .25);
  z-index: 999;          /* åœ¨ä¾§æ ä¸‹ã€æ­£æ–‡ä¸Š */
  opacity: 0;
  pointer-events: none;  /* âœ… å…è®¸æ»šåŠ¨æ­£æ–‡ */
  transition: opacity .25s ease;
}

body.sidebar-open #sidebar-mask {
  opacity: 1;
}

/* ğŸš« éšè— Docsify é»˜è®¤çš„ç°è‰²æ±‰å ¡æŒ‰é’® */
.sidebar-toggle-button {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}
